{% load staticfiles %}
{% load admin_fun %}
{% include "adminpanel/header-profile.html" %}  
<div class="col-12">
          <div class="box">
            <div class="box-header">
              <h3 class="box-title">Site Users</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
             <table id="usertable"
               data-toggle="table"
               data-url="/admin/get_userslist/"
               data-height="900"
               data-side-pagination="server"
               data-pagination="true"
               data-page-list="[5, 10, 20, 50, 100, 200]"
               data-search="true"
               data-show-refresh="true"
               data-show-toggle="true"
               data-show-columns="true">
            <thead>
            <tr>
                <th data-field="uid" data-sortable="true" >User ID</th>
                <th data-field="thumbnail" data-formatter="imageFormatter">Pic</th>
                <th data-field="name" data-sortable="true">Name</th>
                <th data-field="username" data-sortable="true">UserName</th>
                <th data-field="email" data-sortable="true">Email</th>
                <th data-field="id" data-formatter="anchorFormatter">Details</th>
            </tr>
            </thead>
        </table>
            
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
        <!-- /.col -->
     
{% include "adminpanel/footer-profile.html" %}
<script>
function imageFormatter(value, row) {
      if (value) {
        return '<img style="border-radius : 50px; height : 50px; width : 50px;" src="/media/'+value+'" />';
       }
       else {
         return '<img style="border-radius : 50px; height : 50px; width : 50px;" src="{% static "common/images/no-img.jpg" %}" />';  
       }
    }

function anchorFormatter(value, row) {
      return '<a class="btn btn-block btn-sm btn-primary" href="/admin/userdetails/'+value+'/">Details</a>';
    }
</script>